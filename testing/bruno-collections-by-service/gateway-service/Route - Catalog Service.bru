meta {
  name: Catalog Service Route Test
  type: http
  seq: 4
}

get {
  url: {{gateway_url}}/api/restaurants
  body: none
  auth: none
}

tests {
  test("Gateway should route to catalog service", function() {
    expect(res.getStatus()).to.be.oneOf([200, 503, 404]);
    
    if (res.getStatus() === 503) {
      console.log("Circuit breaker might be open for catalog service");
    }
  });
}