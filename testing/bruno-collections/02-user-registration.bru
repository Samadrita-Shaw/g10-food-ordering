meta {
  name: 2. User Registration
  type: http
  seq: 2
}

post {
  url: {{userServiceUrl}}/api/auth/register
  body: json
  auth: none
}

headers {
  Content-Type: application/json
}

body:json {
  {
    "email": "testuser@example.com",
    "password": "SecurePass123!",
    "firstName": "Test",
    "lastName": "User",
    "phone": "+1234567890"
  }
}

tests {
  test("User registration successful", function() {
    expect(res.status).to.equal(201);
    expect(res.body).to.have.property('id');
    expect(res.body).to.have.property('email');
    expect(res.body.email).to.equal('testuser@example.com');
  });
  
  test("Response contains user data", function() {
    expect(res.body.firstName).to.equal('Test');
    expect(res.body.lastName).to.equal('User');
  });
}
